<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Advanced usage of Emacs isearch | Chmouel's blog</title>
<meta name=keywords content><meta name=description content="Introduction It has been a long time since I have blogged about Emacs. I still enjoy using it as when I started from day one (around 1998). I did made some changes I have now moved out of the Emacs keybindings toward using the evil keybinding and have become proficient using Neovim (for terminal editing) or Vscode (for the debugger) but Emacs is where my &ldquo;home&rdquo; is.
Today I&rsquo;d like to talk about Isearch, I don&rsquo;t think we realise how powerful isearch is compared to other editors, the experience out of the box is very intuitive and powerful and as anything with Emacs you can customize it exactly the way you want."><meta name=author content><link rel=canonical href=https://blog.chmouel.com/posts/emacs-isearch/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://blog.chmouel.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.chmouel.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.chmouel.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.chmouel.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.chmouel.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.chmouel.com/posts/emacs-isearch/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Advanced usage of Emacs isearch"><meta property="og:description" content="Introduction It has been a long time since I have blogged about Emacs. I still enjoy using it as when I started from day one (around 1998). I did made some changes I have now moved out of the Emacs keybindings toward using the evil keybinding and have become proficient using Neovim (for terminal editing) or Vscode (for the debugger) but Emacs is where my &ldquo;home&rdquo; is.
Today I&rsquo;d like to talk about Isearch, I don&rsquo;t think we realise how powerful isearch is compared to other editors, the experience out of the box is very intuitive and powerful and as anything with Emacs you can customize it exactly the way you want."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.chmouel.com/posts/emacs-isearch/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-03-01T10:21:39+01:00"><meta property="article:modified_time" content="2024-03-01T10:21:39+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Advanced usage of Emacs isearch"><meta name=twitter:description content="Introduction It has been a long time since I have blogged about Emacs. I still enjoy using it as when I started from day one (around 1998). I did made some changes I have now moved out of the Emacs keybindings toward using the evil keybinding and have become proficient using Neovim (for terminal editing) or Vscode (for the debugger) but Emacs is where my &ldquo;home&rdquo; is.
Today I&rsquo;d like to talk about Isearch, I don&rsquo;t think we realise how powerful isearch is compared to other editors, the experience out of the box is very intuitive and powerful and as anything with Emacs you can customize it exactly the way you want."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.chmouel.com/posts/"},{"@type":"ListItem","position":2,"name":"Advanced usage of Emacs isearch","item":"https://blog.chmouel.com/posts/emacs-isearch/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Advanced usage of Emacs isearch","name":"Advanced usage of Emacs isearch","description":"Introduction It has been a long time since I have blogged about Emacs. I still enjoy using it as when I started from day one (around 1998). I did made some changes I have now moved out of the Emacs keybindings toward using the evil keybinding and have become proficient using Neovim (for terminal editing) or Vscode (for the debugger) but Emacs is where my \u0026ldquo;home\u0026rdquo; is.\nToday I\u0026rsquo;d like to talk about Isearch, I don\u0026rsquo;t think we realise how powerful isearch is compared to other editors, the experience out of the box is very intuitive and powerful and as anything with Emacs you can customize it exactly the way you want.","keywords":[],"articleBody":"Introduction It has been a long time since I have blogged about Emacs. I still enjoy using it as when I started from day one (around 1998). I did made some changes I have now moved out of the Emacs keybindings toward using the evil keybinding and have become proficient using Neovim (for terminal editing) or Vscode (for the debugger) but Emacs is where my “home” is.\nToday I’d like to talk about Isearch, I don’t think we realise how powerful isearch is compared to other editors, the experience out of the box is very intuitive and powerful and as anything with Emacs you can customize it exactly the way you want.\nThe basic of Isearch is to search incrementally for something in your current buffer. You press C-s you press a string and it incrementally search for it. If you press Enter then the search finishes.\nThere is multiple keys you can press to do more after that search, for example if you press C-s again and you don’t have any inputs it will search for the next occurrences of the string of the previous search, you can read about all the basics in the manual:\nhttps://www.gnu.org/software/emacs/manual/html_node/emacs/Search.html\nI have made some customizations to isearch which I find really nice and have them listed in this blog post.\nDirectly jump into occur from a search When you search a buffer with a word it may become tedious to jump around with C-s, you can use the key combo M-s o in isearch to automatically have an overview of all the occurrences in the occur buffer.\nI like to keep that buffer and have the isearch mode exited. To be able to do this I have a little function that does it, which I have added via use-package:\n(use-package isearch :ensure nil :defer t :config (defun my-occur-from-isearch () (interactive) (let ((query (if isearch-regexp isearch-string (regexp-quote isearch-string)))) (isearch-update-ring isearch-string isearch-regexp) (let (search-nonincremental-instead) (ignore-errors (isearch-done t t))) (occur query))) :bind (:map isearch-mode-map (\"C-o\" . my-occur-from-isearch))) With this configuration I simply press C-s to start a search, type something I want to find and then press C-o to get a nice window of all occurrences of that search in the current buffer.\nSince I have configured my display-buffer-alist variable, the occur window automatically get focused and I can just press a n, p to go to the next or previous occurrence and q to discard the window.\nHere is a snippet of my configuration for display-buffer-alist:\n(defun my-select-window (window \u0026rest _) \"Select WINDOW for display-buffer-alist\" (select-window window)) (setq display-buffer-alist '(((or . ((derived-mode . occur-mode))) (display-buffer-reuse-mode-window display-buffer-at-bottom) (body-function . my-select-window) (dedicated . t) (preserve-size . (t . t))))) As a side note, I never really understood how display-buffer-alist worked before watching prot excellent video and blog post about it which is available here:\nhttps://protesilaos.com/codelog/2024-02-08-emacs-window-rules-display-buffer-alist/\nDo a project search from a search term Now that little function which I used for occur could be generalised and extended for other type of search.\nFor example, you can do a project search out of the current search word instead of limiting ourselves to the current buffer:\n(use-package isearch :ensure nil :defer t :config (defun my-project-search-from-isearch () (interactive) (let ((query (if isearch-regexp isearch-string (regexp-quote isearch-string)))) (isearch-update-ring isearch-string isearch-regexp) (let (search-nonincremental-instead) (ignore-errors (isearch-done t t))) (project-find-regexp query))) :bind (:map isearch-mode-map (\"C-f\" . my-project-search-from-isearch))) you search a term and you press the C-f keys and it will instead do a search across your current project with the project-find-regexp function.\nNote that not much as changed between those functions, and you can easily generalise this with a macro or a function, but i’ll keep this obvious to make it easy to copy and paste in your configuration.\nUse the current selection for the initial search (if set) This comes from an idea of a rather old reddit post:\nhttps://www.reddit.com/r/emacs/comments/2amn1v/isearch_selected_text/cixq7zx/\nThis uses the current selection for the initial selection. I do a selection via for example an evil operator or via the easy-mark function from the easy-kill library and then press C-s to use that selection for the initial search input:\n;; use selection to search (defadvice isearch-mode (around isearch-mode-default-string (forward \u0026optional regexp op-fun recursive-edit word-p) activate) (if (and transient-mark-mode mark-active (not (eq (mark) (point)))) (progn (isearch-update-ring (buffer-substring-no-properties (mark) (point))) (deactivate-mark) ad-do-it (if (not forward) (isearch-repeat-backward) (goto-char (mark)) (isearch-repeat-forward))) ad-do-it)) I may need to edit that search term, the best way to do edit is to go to the edit mode using the M-e key which is bound to the isearch-edit-string function and let you edit the search term with a cursor (ie: not incrementally).\nSelect the current symbol at point easily for the search Many times you want to select the current symbol to start the search, there is multiple way to do this. In evil I can do a selection with vio to select the current symbol and thanks to the defadvice in the previous tip it would automatically select that symbol for search.\nEmacs has a builtin way to do this using M-s . or since Emacs 28 you can use the function isearch-forward-thing-at-point to directly start a search with the current symbol.\nI find it easier for me to remap the C-d key in isearch mode since I find it easier being close to C-s on a qwerty keyboard. I can then just do C-s C-d and I’ll get that symbol filled, here is the snippet of my config:\n(use-package isearch :ensure nil :defer t :bind (:map isearch-mode-map (\"C-d\" . isearch-forward-symbol-at-point))) Use consult to jump onto the search occurrence Sometime I want to have a interactive way to jump into the current search word, you can use consult-line from the consult package to jump interactively. But if you want to jump from the current isearch term you can just use that same simple function from earlier and instead consult-line like this:\n(use-package consult (:map isearch-mode-map (\"C-l\" . my-isearch-consult-line-from-isearch)) (defun my-isearch-consult-line-from-isearch () \"Invoke `consult-line' from isearch.\" (interactive) (let ((query (if isearch-regexp isearch-string (regexp-quote isearch-string)))) (isearch-update-ring isearch-string isearch-regexp) (let (search-nonincremental-instead) (ignore-errors (isearch-done t t))) (consult-line query)))) I start a search and press C-l and it jumps directly to consult-line which I can further do things with it with preview.\nUse avy to jump to the search results on screen Avy let you jump to words and other things via labels, I use for all sort of things (my favourite way is combined with evil with evil-avy package). You can do this from isearch with avy:\n(use-package avy :bind (:map isearch-mode-map (\"C-j\" . avy-isearch)) I start a search term, press C-j when there is multiple occurrences on screen, and then select the label to directly jump to it instead of having to do multiples C-s.\nUse anzu to replace the current search term across the buffer anzu is a pretty nice library to do interactive replacement in Emacs. I combine it with isearch, replacing the builtin isearch-query-replace:\n(use-package anzu :bind (:map isearch-mode-map ([remap isearch-query-replace] . anzu-isearch-query-replace) ([remap isearch-query-replace-regexp] . anzu-isearch-query-replace-regexp) (\"C-h\" . anzu-isearch-query-replace))) I start a search and do a C-h and it will ask me for a new name to replace that word to something else.\nConclusion There is other ways to supercharge the Emacs Search and it’s probably just a tiny glimpsee of what I know or what I need for my Emacs searching.\nThere is as well the fantastic deadgrep package which I use often with the deadgrep-edit-mode function to do quick replacement over a project.\n","wordCount":"1237","inLanguage":"en","datePublished":"2024-03-01T10:21:39+01:00","dateModified":"2024-03-01T10:21:39+01:00","author":{"@type":"Person","name":"Chmouel Boudjnah"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.chmouel.com/posts/emacs-isearch/"},"publisher":{"@type":"Organization","name":"Chmouel's blog","logo":{"@type":"ImageObject","url":"https://blog.chmouel.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.chmouel.com/ accesskey=h title="Chmouel's blog (Alt + H)">Chmouel's blog</a>
<span class=logo-switches><ul class=lang-switch><li>|</li></ul></span></div><ul id=menu><li><a href=https://photos.chmouel.com title=camera><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>Photo Website</title><path d="M149.1 64.8 138.7 96H64C28.7 96 0 124.7.0 160V416c0 35.3 28.7 64 64 64H448c35.3.0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7.0-39 13.2-45.5 32.8zM256 192a96 96 0 110 192 96 96 0 110-192z"/></svg>
<span></span></a></li><li><a href=https://github.com/chmouel/ title=GitHub><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
<span></span></a></li><li><a href=https://fosstodon.org/@chmouel title=Mastodon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48.0.0.0-63.72 28.5-63.72 125.7.0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54.0 01-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
<span></span></a></li><li><a href=https://redhat.com title=redhat><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" id="b6bdd2b4-52ab-488a-9a30-1e6d1d7dd2d4" data-name="Layer 1" viewBox="0 0 192.30001 146" sodipodi:docname="logo.svg" width="192.3" height="146" inkscape:version="0.92.5 (2060ec1f9f, 2020-04-08)"><sodipodi:namedview bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="1920" inkscape:window-height="1007" id="namedview13" showgrid="false" fit-margin-top="1" fit-margin-right="1" fit-margin-bottom="1" fit-margin-left="1" inkscape:zoom=".45930043" inkscape:cx="306.89999" inkscape:cy="73" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" inkscape:current-layer="b6bdd2b4-52ab-488a-9a30-1e6d1d7dd2d4"/><title>Red Hat</title><path class="a737459c-e8c7-4afa-8008-f6cfd15ccda2" d="m128 84c12.5.0 30.6-2.6 30.6-17.5a19.53 19.53.0 00-.3-3.4L150.9 30.7C149.2 23.6 147.7 20.3 135.2 14.1 125.5 9.1 104.4 1 98.1 1 92.2 1 90.5 8.5 83.6 8.5 76.9 8.5 72 2.9 65.7 2.9c-6 0-9.9 4.1-12.9 12.5.0.0-8.4 23.7-9.5 27.2a6.15 6.15.0 00-.2 1.9C43 53.7 79.3 83.9 128 84m32.5-11.4c1.7 8.2 1.7 9.1 1.7 10.1.0 14-15.7 21.8-36.4 21.8C79 104.5 38.1 77.1 38.1 59a18.35 18.35.0 011.5-7.3C22.8 52.5 1 55.5 1 74.7 1 106.2 75.6 145 134.6 145c45.3.0 56.7-20.5 56.7-36.7.0-12.7-11-27.1-30.8-35.7" id="path8" inkscape:connector-curvature="0"/><path d="m160.5 72.6c1.7 8.2 1.7 9.1 1.7 10.1.0 14-15.7 21.8-36.4 21.8C79 104.5 38.1 77.1 38.1 59a18.35 18.35.0 011.5-7.3l3.7-9.1a6.15 6.15.0 00-.2 1.9c0 9.2 36.3 39.4 84.9 39.4 12.5.0 30.6-2.6 30.6-17.5A19.53 19.53.0 00158.3 63z" id="path10" inkscape:connector-curvature="0"/></svg>
<span></span></a></li><li><a href=https://app.strava.com/athletes/126695 title=Strava><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M158.4.0 7 292h89.2l62.2-116.1L220.1 292h88.5zm150.2 292-43.9 88.2-44.6-88.2h-67.6l112.2 220 111.5-220z"/></svg>
<span></span></a></li><li><a href=https://twitter.com/chmouel title=Twitter><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
<span></span></a></li><li><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Advanced usage of Emacs isearch</h1><div class=post-meta><span title='2024-03-01 10:21:39 +0100 +0100'>March 1, 2024</span>&nbsp;|&nbsp;<a href=https://github.com/chmouel/blog/tree/main/content/posts/emacs-isearch/index.md rel="noopener noreferrer" target=_blank>Edit</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a><ul><li><a href=#directly-jump-into-occur-from-a-search aria-label="Directly jump into occur from a search">Directly jump into occur from a search</a></li><li><a href=#do-a-project-search-from-a-search-term aria-label="Do a project search from a search term">Do a project search from a search term</a></li><li><a href=#use-the-current-selection-for-the-initial-search-if-set aria-label="Use the current selection for the initial search (if set)">Use the current selection for the initial search (if set)</a></li><li><a href=#select-the-current-symbol-at-point-easily-for-the-search aria-label="Select the current symbol at point easily for the search">Select the current symbol at point easily for the search</a></li><li><a href=#use-consult-to-jump-onto-the-search-occurrence aria-label="Use consult to jump onto the search occurrence">Use consult to jump onto the search occurrence</a></li><li><a href=#use-avy-to-jump-to-the-search-results-on-screen aria-label="Use avy to jump to the search results on screen">Use avy to jump to the search results on screen</a></li><li><a href=#use-anzu-to-replace-the-current-search-term-across-the-buffer aria-label="Use anzu to replace the current search term across the buffer">Use anzu to replace the current search term across the buffer</a></li></ul></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></div></details></div><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>It has been a long time since I have blogged about Emacs. I still enjoy using it
as when I started from day one (around 1998). I did made some changes I have now
moved out of the Emacs keybindings toward using the evil keybinding and have
become proficient using Neovim (for terminal editing) or Vscode (for the
debugger) but Emacs is where my &ldquo;home&rdquo; is.</p><p>Today I&rsquo;d like to talk about Isearch, I don&rsquo;t think we realise how powerful
isearch is compared to other editors, the experience out of the box is very
intuitive and powerful and as anything with Emacs you can customize it exactly
the way you want.</p><p>The basic of Isearch is to search incrementally for something in your current
buffer. You press <code>C-s</code> you press a string and it incrementally search for it. If
you press <code>Enter</code> then the search finishes.</p><p>There is multiple keys you can press to do more after that search, for example
if you press <code>C-s</code> again and you don&rsquo;t have any inputs it will search for the
next occurrences of the string of the previous search, you can read about all
the basics in the manual:</p><p><a href=https://www.gnu.org/software/emacs/manual/html_node/emacs/Search.html>https://www.gnu.org/software/emacs/manual/html_node/emacs/Search.html</a></p><p>I have made some customizations to isearch which I find really nice and have
them listed in this blog post.</p><h3 id=directly-jump-into-occur-from-a-search>Directly jump into occur from a search<a hidden class=anchor aria-hidden=true href=#directly-jump-into-occur-from-a-search>#</a></h3><p>When you search a buffer with a word it may become tedious to jump around with
<code>C-s</code>, you can use the key combo <code>M-s o</code> in isearch to automatically have an
overview of all the occurrences in the
<a href=https://www.gnu.org/software/emacs/manual/html_node/emacs/Other-Repeating-Search.html>occur</a>
buffer.</p><p>I like to keep that buffer and have the <code>isearch</code> mode exited. To be able to do
this I have a little function that does it, which I have added via <a href=https://www.gnu.org/software/emacs/manual/html_node/use-package/index.html>use-package</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-elisp data-lang=elisp><span style=display:flex><span>(<span style=color:#8be9fd;font-style:italic>use-package</span> <span style=color:#8be9fd;font-style:italic>isearch</span>
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:ensure</span> nil
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:defer</span> t
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:config</span>
</span></span><span style=display:flex><span>  (<span style=color:#8be9fd;font-style:italic>defun</span> <span style=color:#8be9fd;font-style:italic>my-occur-from-isearch</span> ()
</span></span><span style=display:flex><span>    (<span style=color:#8be9fd;font-style:italic>interactive</span>)
</span></span><span style=display:flex><span>    (<span style=color:#8be9fd;font-style:italic>let</span> ((<span style=color:#8be9fd;font-style:italic>query</span> (<span style=color:#8be9fd;font-style:italic>if</span> <span style=color:#8be9fd;font-style:italic>isearch-regexp</span>
</span></span><span style=display:flex><span>               <span style=color:#8be9fd;font-style:italic>isearch-string</span>
</span></span><span style=display:flex><span>             (<span style=color:#50fa7b>regexp-quote</span> <span style=color:#8be9fd;font-style:italic>isearch-string</span>))))
</span></span><span style=display:flex><span>      (<span style=color:#8be9fd;font-style:italic>isearch-update-ring</span> <span style=color:#8be9fd;font-style:italic>isearch-string</span> <span style=color:#8be9fd;font-style:italic>isearch-regexp</span>)
</span></span><span style=display:flex><span>      (<span style=color:#8be9fd;font-style:italic>let</span> (<span style=color:#8be9fd;font-style:italic>search-nonincremental-instead</span>)
</span></span><span style=display:flex><span>        (<span style=color:#8be9fd;font-style:italic>ignore-errors</span> (<span style=color:#8be9fd;font-style:italic>isearch-done</span> t t)))
</span></span><span style=display:flex><span>      (<span style=color:#8be9fd;font-style:italic>occur</span> <span style=color:#8be9fd;font-style:italic>query</span>)))
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:bind</span>
</span></span><span style=display:flex><span>  (<span style=color:#8be9fd;font-style:italic>:map</span> <span style=color:#8be9fd;font-style:italic>isearch-mode-map</span>
</span></span><span style=display:flex><span>        (<span style=color:#f1fa8c>&#34;C-o&#34;</span> <span style=color:#ff79c6>.</span> <span style=color:#8be9fd;font-style:italic>my-occur-from-isearch</span>)))
</span></span></code></pre></div><p>With this configuration I simply press <code>C-s</code> to start a search, type something I
want to find and then press <code>C-o</code> to get a nice window of all occurrences of
that search in the current buffer.</p><p><img loading=lazy src=./isearch-occur.png alt=isearch-occur></p><p>Since I have configured my <code>display-buffer-alist</code> variable, the occur window
automatically get focused and I can just press a <code>n</code>, <code>p</code> to go to the next or
previous occurrence and <code>q</code> to discard the window.</p><p>Here is a snippet of my configuration for display-buffer-alist:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-elisp data-lang=elisp><span style=display:flex><span>(<span style=color:#8be9fd;font-style:italic>defun</span> <span style=color:#8be9fd;font-style:italic>my-select-window</span> (<span style=color:#8be9fd;font-style:italic>window</span> <span style=color:#ff79c6>&amp;rest</span> <span style=color:#8be9fd;font-style:italic>_</span>)
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;Select WINDOW for display-buffer-alist&#34;</span>
</span></span><span style=display:flex><span>  (<span style=color:#50fa7b>select-window</span> <span style=color:#8be9fd;font-style:italic>window</span>))
</span></span><span style=display:flex><span>(<span style=color:#8be9fd;font-style:italic>setq</span> <span style=color:#8be9fd;font-style:italic>display-buffer-alist</span>
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>&#39;</span>(((<span style=color:#8be9fd;font-style:italic>or</span> <span style=color:#ff79c6>.</span> ((<span style=color:#8be9fd;font-style:italic>derived-mode</span> <span style=color:#ff79c6>.</span> <span style=color:#8be9fd;font-style:italic>occur-mode</span>)))
</span></span><span style=display:flex><span>         (<span style=color:#8be9fd;font-style:italic>display-buffer-reuse-mode-window</span> <span style=color:#8be9fd;font-style:italic>display-buffer-at-bottom</span>)
</span></span><span style=display:flex><span>         (<span style=color:#8be9fd;font-style:italic>body-function</span> <span style=color:#ff79c6>.</span> <span style=color:#8be9fd;font-style:italic>my-select-window</span>)
</span></span><span style=display:flex><span>         (<span style=color:#8be9fd;font-style:italic>dedicated</span> <span style=color:#ff79c6>.</span> t)
</span></span><span style=display:flex><span>         (<span style=color:#8be9fd;font-style:italic>preserve-size</span> <span style=color:#ff79c6>.</span> (t <span style=color:#ff79c6>.</span> t)))))
</span></span></code></pre></div><p>As a side note, I never really understood how <code>display-buffer-alist</code> worked
before watching prot excellent video and blog post about it which is available
here:</p><p><a href=https://protesilaos.com/codelog/2024-02-08-emacs-window-rules-display-buffer-alist/>https://protesilaos.com/codelog/2024-02-08-emacs-window-rules-display-buffer-alist/</a></p><h3 id=do-a-project-search-from-a-search-term>Do a project search from a search term<a hidden class=anchor aria-hidden=true href=#do-a-project-search-from-a-search-term>#</a></h3><p>Now that little function which I used for <code>occur</code> could be generalised and
extended for other type of search.</p><p>For example, you can do a project search out of the current search word instead of
limiting ourselves to the current buffer:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-elisp data-lang=elisp><span style=display:flex><span>(<span style=color:#8be9fd;font-style:italic>use-package</span> <span style=color:#8be9fd;font-style:italic>isearch</span>
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:ensure</span> nil
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:defer</span> t
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:config</span>
</span></span><span style=display:flex><span>  (<span style=color:#8be9fd;font-style:italic>defun</span> <span style=color:#8be9fd;font-style:italic>my-project-search-from-isearch</span> ()
</span></span><span style=display:flex><span>    (<span style=color:#8be9fd;font-style:italic>interactive</span>)
</span></span><span style=display:flex><span>    (<span style=color:#8be9fd;font-style:italic>let</span> ((<span style=color:#8be9fd;font-style:italic>query</span> (<span style=color:#8be9fd;font-style:italic>if</span> <span style=color:#8be9fd;font-style:italic>isearch-regexp</span>
</span></span><span style=display:flex><span>               <span style=color:#8be9fd;font-style:italic>isearch-string</span>
</span></span><span style=display:flex><span>             (<span style=color:#50fa7b>regexp-quote</span> <span style=color:#8be9fd;font-style:italic>isearch-string</span>))))
</span></span><span style=display:flex><span>      (<span style=color:#8be9fd;font-style:italic>isearch-update-ring</span> <span style=color:#8be9fd;font-style:italic>isearch-string</span> <span style=color:#8be9fd;font-style:italic>isearch-regexp</span>)
</span></span><span style=display:flex><span>      (<span style=color:#8be9fd;font-style:italic>let</span> (<span style=color:#8be9fd;font-style:italic>search-nonincremental-instead</span>)
</span></span><span style=display:flex><span>        (<span style=color:#8be9fd;font-style:italic>ignore-errors</span> (<span style=color:#8be9fd;font-style:italic>isearch-done</span> t t)))
</span></span><span style=display:flex><span>      (<span style=color:#8be9fd;font-style:italic>project-find-regexp</span> <span style=color:#8be9fd;font-style:italic>query</span>)))
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:bind</span>
</span></span><span style=display:flex><span>  (<span style=color:#8be9fd;font-style:italic>:map</span> <span style=color:#8be9fd;font-style:italic>isearch-mode-map</span>
</span></span><span style=display:flex><span>        (<span style=color:#f1fa8c>&#34;C-f&#34;</span> <span style=color:#ff79c6>.</span> <span style=color:#8be9fd;font-style:italic>my-project-search-from-isearch</span>)))
</span></span></code></pre></div><p>you search a term and you press the <code>C-f</code> keys and it will instead do a
search across your current
<a href=https://www.gnu.org/software/emacs/manual/html_node/emacs/Projects.html>project</a>
with the <code>project-find-regexp</code> function.</p><p><img loading=lazy src=./isearch-project.png alt=isearch-project></p><p>Note that not much as changed between those functions, and you can easily
generalise this with a
<a href=https://www.gnu.org/software/emacs/manual/html_node/elisp/Macros.html>macro</a>
or a function, but i&rsquo;ll keep this obvious to make it easy to copy and paste in
your configuration.</p><h3 id=use-the-current-selection-for-the-initial-search-if-set>Use the current selection for the initial search (if set)<a hidden class=anchor aria-hidden=true href=#use-the-current-selection-for-the-initial-search-if-set>#</a></h3><p>This comes from an idea of a rather old reddit post:</p><p><a href=https://www.reddit.com/r/emacs/comments/2amn1v/isearch_selected_text/cixq7zx/>https://www.reddit.com/r/emacs/comments/2amn1v/isearch_selected_text/cixq7zx/</a></p><p>This uses the current selection for the initial selection. I do a selection via
for example an evil operator or via the
<a href=https://github.com/leoliu/easy-kill>easy-mark function from the easy-kill</a> library and then press <code>C-s</code>
to use that selection for the initial search input:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-elisp data-lang=elisp><span style=display:flex><span>  <span style=color:#6272a4>;; use selection to search</span>
</span></span><span style=display:flex><span>  (<span style=color:#8be9fd;font-style:italic>defadvice</span> <span style=color:#8be9fd;font-style:italic>isearch-mode</span> (<span style=color:#8be9fd;font-style:italic>around</span> <span style=color:#8be9fd;font-style:italic>isearch-mode-default-string</span> (<span style=color:#8be9fd;font-style:italic>forward</span> <span style=color:#ff79c6>&amp;optional</span> <span style=color:#8be9fd;font-style:italic>regexp</span> <span style=color:#8be9fd;font-style:italic>op-fun</span> <span style=color:#50fa7b>recursive-edit</span> <span style=color:#8be9fd;font-style:italic>word-p</span>) <span style=color:#8be9fd;font-style:italic>activate</span>)
</span></span><span style=display:flex><span>    (<span style=color:#8be9fd;font-style:italic>if</span> (<span style=color:#8be9fd;font-style:italic>and</span> <span style=color:#8be9fd;font-style:italic>transient-mark-mode</span> <span style=color:#8be9fd;font-style:italic>mark-active</span> (<span style=color:#8be9fd;font-style:italic>not</span> (<span style=color:#50fa7b>eq</span> (<span style=color:#8be9fd;font-style:italic>mark</span>) (<span style=color:#50fa7b>point</span>))))
</span></span><span style=display:flex><span>        (<span style=color:#8be9fd;font-style:italic>progn</span>
</span></span><span style=display:flex><span>          (<span style=color:#8be9fd;font-style:italic>isearch-update-ring</span> (<span style=color:#50fa7b>buffer-substring-no-properties</span> (<span style=color:#8be9fd;font-style:italic>mark</span>) (<span style=color:#50fa7b>point</span>)))
</span></span><span style=display:flex><span>          (<span style=color:#8be9fd;font-style:italic>deactivate-mark</span>)
</span></span><span style=display:flex><span>          <span style=color:#8be9fd;font-style:italic>ad-do-it</span>
</span></span><span style=display:flex><span>          (<span style=color:#8be9fd;font-style:italic>if</span> (<span style=color:#8be9fd;font-style:italic>not</span> <span style=color:#8be9fd;font-style:italic>forward</span>)
</span></span><span style=display:flex><span>              (<span style=color:#8be9fd;font-style:italic>isearch-repeat-backward</span>)
</span></span><span style=display:flex><span>            (<span style=color:#50fa7b>goto-char</span> (<span style=color:#8be9fd;font-style:italic>mark</span>))
</span></span><span style=display:flex><span>            (<span style=color:#8be9fd;font-style:italic>isearch-repeat-forward</span>)))
</span></span><span style=display:flex><span>      <span style=color:#8be9fd;font-style:italic>ad-do-it</span>))
</span></span></code></pre></div><p>I may need to edit that search term, the best way to do edit is to go to the
<em>edit mode</em> using the <code>M-e</code> key which is bound to the <code>isearch-edit-string</code>
function and let you edit the search term with a cursor (ie: not incrementally).</p><h3 id=select-the-current-symbol-at-point-easily-for-the-search>Select the current symbol at point easily for the search<a hidden class=anchor aria-hidden=true href=#select-the-current-symbol-at-point-easily-for-the-search>#</a></h3><p>Many times you want to select the current symbol to start the search, there is
multiple way to do this. In <code>evil</code> I can do a selection with <code>vio</code> to select the
current symbol and thanks to the defadvice in the previous tip it would
automatically select that symbol for search.</p><p>Emacs has a <a href=https://www.gnu.org/software/emacs/manual/html_node/emacs/Symbol-Search.html>builtin
way</a>
to do this using <code>M-s .</code> or since Emacs 28 you can use the function
<code>isearch-forward-thing-at-point</code> to directly start a search with the current
symbol.</p><p>I find it easier for me to remap the <code>C-d</code> key in isearch mode since I find it
easier being close to <code>C-s</code> on a qwerty keyboard. I can then just do <code>C-s C-d</code>
and I&rsquo;ll get that symbol filled, here is the snippet of my config:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-elisp data-lang=elisp><span style=display:flex><span>(<span style=color:#8be9fd;font-style:italic>use-package</span> <span style=color:#8be9fd;font-style:italic>isearch</span>
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:ensure</span> nil
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:defer</span> t
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:bind</span>
</span></span><span style=display:flex><span>  (<span style=color:#8be9fd;font-style:italic>:map</span> <span style=color:#8be9fd;font-style:italic>isearch-mode-map</span>
</span></span><span style=display:flex><span>        (<span style=color:#f1fa8c>&#34;C-d&#34;</span> <span style=color:#ff79c6>.</span> <span style=color:#8be9fd;font-style:italic>isearch-forward-symbol-at-point</span>)))
</span></span></code></pre></div><h3 id=use-consult-to-jump-onto-the-search-occurrence>Use consult to jump onto the search occurrence<a hidden class=anchor aria-hidden=true href=#use-consult-to-jump-onto-the-search-occurrence>#</a></h3><p>Sometime I want to have a interactive way to jump into the current search word,
you can use <code>consult-line</code> from the <a href=https://github.com/minad/consult>consult</a>
package to jump interactively. But if you want to jump from the current isearch
term you can just use that same simple function from earlier and instead <code>consult-line</code>
like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-elisp data-lang=elisp><span style=display:flex><span>(<span style=color:#8be9fd;font-style:italic>use-package</span> <span style=color:#8be9fd;font-style:italic>consult</span>
</span></span><span style=display:flex><span>  (<span style=color:#8be9fd;font-style:italic>:map</span> <span style=color:#8be9fd;font-style:italic>isearch-mode-map</span>
</span></span><span style=display:flex><span>        (<span style=color:#f1fa8c>&#34;C-l&#34;</span> <span style=color:#ff79c6>.</span> <span style=color:#8be9fd;font-style:italic>my-isearch-consult-line-from-isearch</span>))
</span></span><span style=display:flex><span>  (<span style=color:#8be9fd;font-style:italic>defun</span> <span style=color:#8be9fd;font-style:italic>my-isearch-consult-line-from-isearch</span> ()
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;Invoke </span><span style=color:#f1fa8c>`consult-line&#39;</span><span style=color:#f1fa8c> from isearch.&#34;</span>
</span></span><span style=display:flex><span>    (<span style=color:#8be9fd;font-style:italic>interactive</span>)
</span></span><span style=display:flex><span>    (<span style=color:#8be9fd;font-style:italic>let</span> ((<span style=color:#8be9fd;font-style:italic>query</span> (<span style=color:#8be9fd;font-style:italic>if</span> <span style=color:#8be9fd;font-style:italic>isearch-regexp</span>
</span></span><span style=display:flex><span>               <span style=color:#8be9fd;font-style:italic>isearch-string</span>
</span></span><span style=display:flex><span>             (<span style=color:#50fa7b>regexp-quote</span> <span style=color:#8be9fd;font-style:italic>isearch-string</span>))))
</span></span><span style=display:flex><span>      (<span style=color:#8be9fd;font-style:italic>isearch-update-ring</span> <span style=color:#8be9fd;font-style:italic>isearch-string</span> <span style=color:#8be9fd;font-style:italic>isearch-regexp</span>)
</span></span><span style=display:flex><span>      (<span style=color:#8be9fd;font-style:italic>let</span> (<span style=color:#8be9fd;font-style:italic>search-nonincremental-instead</span>)
</span></span><span style=display:flex><span>        (<span style=color:#8be9fd;font-style:italic>ignore-errors</span> (<span style=color:#8be9fd;font-style:italic>isearch-done</span> t t)))
</span></span><span style=display:flex><span>      (<span style=color:#8be9fd;font-style:italic>consult-line</span> <span style=color:#8be9fd;font-style:italic>query</span>))))
</span></span></code></pre></div><p>I start a search and press <code>C-l</code> and it jumps directly to <code>consult-line</code> which I
can further do things with it with preview.</p><p><img loading=lazy src=./isearch-consult.png alt=isearch-consult></p><h3 id=use-avy-to-jump-to-the-search-results-on-screen>Use avy to jump to the search results on screen<a hidden class=anchor aria-hidden=true href=#use-avy-to-jump-to-the-search-results-on-screen>#</a></h3><p><a href=https://github.com/abo-abo/avy>Avy</a> let you jump to words and other things via
labels, I use for all sort of things (my favourite way is combined with evil
with <a href=https://github.com/louy2/evil-avy>evil-avy</a> package). You can do this
from isearch with avy:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-elisp data-lang=elisp><span style=display:flex><span>(<span style=color:#8be9fd;font-style:italic>use-package</span> <span style=color:#8be9fd;font-style:italic>avy</span>
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:bind</span>
</span></span><span style=display:flex><span>  (<span style=color:#8be9fd;font-style:italic>:map</span> <span style=color:#8be9fd;font-style:italic>isearch-mode-map</span> (<span style=color:#f1fa8c>&#34;C-j&#34;</span> <span style=color:#ff79c6>.</span> <span style=color:#8be9fd;font-style:italic>avy-isearch</span>))
</span></span></code></pre></div><p>I start a search term, press <code>C-j</code> when there is multiple occurrences on screen,
and then select the label to directly jump to it instead of having to do
multiples <code>C-s</code>.</p><p><img loading=lazy src=./isearch-avy.png alt=isearch-avy></p><h3 id=use-anzu-to-replace-the-current-search-term-across-the-buffer>Use anzu to replace the current search term across the buffer<a hidden class=anchor aria-hidden=true href=#use-anzu-to-replace-the-current-search-term-across-the-buffer>#</a></h3><p><a href=https://github.com/emacsorphanage/anzu>anzu</a> is a pretty nice library to do
interactive replacement in Emacs. I combine it with isearch, replacing the
builtin <code>isearch-query-replace</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-elisp data-lang=elisp><span style=display:flex><span>(<span style=color:#8be9fd;font-style:italic>use-package</span> <span style=color:#8be9fd;font-style:italic>anzu</span>
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>:bind</span>
</span></span><span style=display:flex><span>  (<span style=color:#8be9fd;font-style:italic>:map</span>
</span></span><span style=display:flex><span>   <span style=color:#8be9fd;font-style:italic>isearch-mode-map</span>
</span></span><span style=display:flex><span>   ([<span style=color:#8be9fd;font-style:italic>remap</span> <span style=color:#8be9fd;font-style:italic>isearch-query-replace</span>]        <span style=color:#ff79c6>.</span> <span style=color:#8be9fd;font-style:italic>anzu-isearch-query-replace</span>)
</span></span><span style=display:flex><span>   ([<span style=color:#8be9fd;font-style:italic>remap</span> <span style=color:#8be9fd;font-style:italic>isearch-query-replace-regexp</span>] <span style=color:#ff79c6>.</span> <span style=color:#8be9fd;font-style:italic>anzu-isearch-query-replace-regexp</span>)
</span></span><span style=display:flex><span>   (<span style=color:#f1fa8c>&#34;C-h&#34;</span>                                <span style=color:#ff79c6>.</span> <span style=color:#8be9fd;font-style:italic>anzu-isearch-query-replace</span>)))
</span></span></code></pre></div><p>I start a search and do a <code>C-h</code> and it will ask me for a new name to replace
that word to something else.</p><p><img loading=lazy src=./isearch-anzu.png alt=isearch-anzu></p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>There is other ways to supercharge the Emacs Search and it&rsquo;s probably
just a tiny glimpsee of what I know or what I need for my Emacs searching.</p><p>There is as well the fantastic <a href=https://github.com/Wilfred/deadgrep>deadgrep</a>
package which I use often with the <code>deadgrep-edit-mode</code> function to do quick
replacement over a project.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://blog.chmouel.com/>Chmouel's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>