<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.120.3"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Chmouel's blog</title>
<meta name=description content><meta name=author content><link rel=canonical href=https://blog.chmouel.com/><link crossorigin=anonymous href=/assets/css/stylesheet.ab393ed2c603998a7d6b9e8eda123466b9d201fa71eb05cebc80d3db7d812d18.css integrity="sha256-qzk+0sYDmYp9a56O2hI0ZrnSAfpx6wXOvIDT232BLRg=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.chmouel.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.chmouel.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.chmouel.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.chmouel.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.chmouel.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://blog.chmouel.com/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Chmouel's blog"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://blog.chmouel.com/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Chmouel's blog"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Chmouel's blog","url":"https://blog.chmouel.com/","description":"","thumbnailUrl":"https://blog.chmouel.com/favicon.ico","sameAs":[]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.chmouel.com/ accesskey=h title="Chmouel's blog (Alt + H)">Chmouel's blog</a>
<span class=logo-switches></span></div><ul id=menu><li><a href=https://redhat.com title=briefcase><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M184 48H328c4.4.0 8 3.6 8 8V96H176V56c0-4.4 3.6-8 8-8zm-56 8V96H64C28.7 96 0 124.7.0 160v96H192 320 512V160c0-35.3-28.7-64-64-64H384V56c0-30.9-25.1-56-56-56H184c-30.9.0-56 25.1-56 56zM512 288H320v32c0 17.7-14.3 32-32 32H224c-17.7.0-32-14.3-32-32V288H0V416c0 35.3 28.7 64 64 64H448c35.3.0 64-28.7 64-64V288z"/></svg><span></span></a></li><li><a href=https://photos.chmouel.com title=camera><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M149.1 64.8 138.7 96H64C28.7 96 0 124.7.0 160V416c0 35.3 28.7 64 64 64H448c35.3.0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7.0-39 13.2-45.5 32.8zM256 192a96 96 0 110 192 96 96 0 110-192z"/></svg><span></span></a></li><li><a href=https://github.com/chmouel/ title=GitHub><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg><span></span></a></li><li><a href=https://fosstodon.org/@chmouel title=Mastodon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48.0.0.0-63.72 28.5-63.72 125.7.0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54.0 01-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg><span></span></a></li><li><a href=https://app.strava.com/athletes/126695 title=Strava><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M158.4.0 7 292h89.2l62.2-116.1L220.1 292h88.5zm150.2 292-43.9 88.2-44.6-88.2h-67.6l112.2 220 111.5-220z"/></svg><span></span></a></li><li><a href=https://twitter.com/chmouel title=Twitter><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg><span></span></a></li><li><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2>Building RPM with Docker images</h2></header><div class=entry-content><p>For an internal project at work I have been thinking about more how to generate RPMs out of our CI. I wanted to have them produced as artifacts of the build so I can test how if they can be installed and properly working with some smoketests.
Since we are using Docker for most of the things in our CI, I have been thinking about more about how to do that with docker images and RPM....</p></div><footer class=entry-footer><span title='2014-12-31 11:24:36 +0000 UTC'>December 31, 2014</span></footer><a class=entry-link aria-label="post link to Building RPM with Docker images" href=https://blog.chmouel.com/2014/12/31/building-rpm-with-docker-images/></a></article><article class=post-entry><header class=entry-header><h2>Use cases for Docker driven development.</h2></header><div class=entry-content><p>So the trend these days is to talk about container all the things that usually involve Docker, it even has a now its own verb, people are now using the word ‘containerizing’ to describe packaging their application with Docker.
A lot of the things happening lately in the Docker world is to solve how to get those containers in real production environments, there is people working on taking the ‘containerization’ philosophy to storage, networking or getting orchestration right...</p></div><footer class=entry-footer><span title='2014-11-10 20:58:01 +0000 UTC'>November 10, 2014</span></footer><a class=entry-link aria-label="post link to Use cases for Docker driven development." href=https://blog.chmouel.com/2014/11/10/use-cases-for-docker-driven-development/></a></article><article class=post-entry><header class=entry-header><h2>Avoiding race conditions between containers with docker and fig</h2></header><div class=entry-content><p>I have been playing with docker quite a lot lately. The advantage for me is to be able to run functional tests easily and be able to document how deployment should be done of my software as a developer for my endusers (i.e: operators/admins).
The advantage of this method is probably an article of its own which I won’t dig into today but just to give a tip for the existing users of fig/docker...</p></div><footer class=entry-footer><span title='2014-11-04 20:18:01 +0000 UTC'>November 4, 2014</span></footer><a class=entry-link aria-label="post link to Avoiding race conditions between containers with docker and fig" href=https://blog.chmouel.com/2014/11/04/avoiding-race-conditions-between-containers-with-docker-and-fig/></a></article><article class=post-entry><header class=entry-header><h2>Dox a tool that run python (or others) tests in a docker container</h2></header><div class=entry-content><p>Sometime there is some ideas that are just obvious that they are good ideas. When Monty started to mention on the OpenStack development mailing list about a tool he was hacking on allowing to integrate docker containers to do the testing it was obvious it was those ideas that everybody was thinking about that it would be awesome if it was implemented and started to get used.
The idea of dox is like the name imply is to slightly behave like the tox tool but instead of running virtualenvs you are using docker containers....</p></div><footer class=entry-footer><span title='2014-09-08 00:56:43 +0000 UTC'>September 8, 2014</span></footer><a class=entry-link aria-label="post link to Dox a tool that run python (or others) tests in a docker container" href=https://blog.chmouel.com/2014/09/08/dox-a-tool-that-run-python-or-others-tests-in-a-docker-container/></a></article><article class=post-entry><header class=entry-header><h2>Announcing the (Paris (Emacs) Meetup) Group</h2></header><div class=entry-content><p>I am lucky to sit in front of Julien Danjou at work and as the sole Emacs users on the side of our office it was come to our attention that we needed as emacsian to unite ourselves to preach the good parole of the church of Emacs and sexy mens.
It was quite obvious that the only way to convince those in the unkown was to find an excuse for drinks good food between good people and set-up a meetup....</p></div><footer class=entry-footer><span title='2014-03-31 18:22:15 +0000 UTC'>March 31, 2014</span></footer><a class=entry-link aria-label="post link to Announcing the (Paris (Emacs) Meetup) Group" href=https://blog.chmouel.com/2014/03/31/paris-emacs-meetup-group/></a></article><article class=post-entry><header class=entry-header><h2>How do I manage my copyright headers in Emacs</h2></header><div class=entry-content><p>My day to day being work or personal is to create OpenSource code. As an habit I have taken lately I am adding licenses to all new files I am creating.
I have historically used the `auto-insert-mode with a default template. For example for my newly created python files I would have this for configration :
;AutoInsert (auto-insert-mode 't) (setq auto-insert-alist '((python-mode . "python.py"))) and in my `auto-insert-directory directory there would be a python....</p></div><footer class=entry-footer><span title='2014-03-14 07:07:41 +0000 UTC'>March 14, 2014</span></footer><a class=entry-link aria-label="post link to How do I manage my copyright headers in Emacs" href=https://blog.chmouel.com/2014/03/14/how-do-i-manage-my-copyright-headers-in-emacs/></a></article><article class=post-entry><header class=entry-header><h2>The life of an OpenStack contributor checking for Jenkins failures</h2></header><div class=entry-content><p>We have all been there, we are committing a two character change in a project and send our review all happy and dandy with the review tool full of hope that our change is rock solid :
You now that a two character change cannot fail. This is a tiny change in some arcane part of the Swift code that can never get passed by the tests launched in Jenkins and should just be a straightforward commit....</p></div><footer class=entry-footer><span title='2013-12-24 20:36:40 +0000 UTC'>December 24, 2013</span></footer><a class=entry-link aria-label="post link to The life of an OpenStack contributor checking for Jenkins failures" href=https://blog.chmouel.com/2013/12/24/life-of-openstack-contributor-jenkins-failure/></a></article><article class=post-entry><header class=entry-header><h2>How to access Rackspace Cloud with latest novaclient/swiftclient</h2></header><div class=entry-content><p>I spent too much time trying to figure out how to use the latest swiftclient/novaclient with Rackspace Cloud that I thought I would have to document it somewhere to avoid the pain for others.
Assuming you don’t want to use pyrax and no OS_AUTH_SYSTEM plugin but just pure OpenStack python-novaclient/swiftclient on Rackspace cloud then you just need to export those variables in your shell :
export OS_REGION_NAME=ORD export OS_USERNAME=username export OS_TENANT_NAME=" " export OS_PASSWORD=password export OS_AUTH_URL=https://identity....</p></div><footer class=entry-footer><span title='2013-09-27 03:50:51 +0000 UTC'>September 27, 2013</span></footer><a class=entry-link aria-label="post link to How to access Rackspace Cloud with latest novaclient/swiftclient" href=https://blog.chmouel.com/2013/09/27/how-to-access-rackspace-cloud-with-latest-swiftclient-novaclient/></a></article><article class=post-entry><header class=entry-header><h2>Quick Swift Tip: How to remove a header with Curl</h2></header><div class=entry-content><p>curl is obviously an extremely popular way to experiment a REST API. Unfortunately one of its shortcoming is not able to remove a custom header but just to modify or add it. In swift if you prefix your Meta header with X-remove it would then just do that and remove the header.
For example when I wanted to remove the account quota header from an account with a reseller admin token I had just to do that :...</p></div><footer class=entry-footer><span title='2013-07-17 10:07:50 +0000 UTC'>July 17, 2013</span></footer><a class=entry-link aria-label="post link to Quick Swift Tip: How to remove a header with Curl" href=https://blog.chmouel.com/2013/07/17/quick-swift-tip-how-to-remove-a-header-with-curl/></a></article><article class=post-entry><header class=entry-header><h2>How to launch the Swift functional test suite with Keystone</h2></header><div class=entry-content><p>It is easy to launch the swift functional tests with v2 auth (Keystone).
Assuming you have a recent version of python-swiftclient, python-keystoneclient and swift you need to first add a few users which is easily done with this script :
Assuming you have already your OS_* variables configured with an admin, you can just launch it and it will :
add a tenant/user named test/tester. add a tenant/user name test2/tester2. add a user tester3 belonging to test2 but not operator on that tenant....</p></div><footer class=entry-footer><span title='2013-06-14 15:46:19 +0000 UTC'>June 14, 2013</span></footer><a class=entry-link aria-label="post link to How to launch the Swift functional test suite with Keystone" href=https://blog.chmouel.com/2013/06/14/how-to-launch-the-swift-functional-test-suite-with-keystone/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://blog.chmouel.com/page/3/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://blog.chmouel.com/page/5/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://blog.chmouel.com/>Chmouel's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>