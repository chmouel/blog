<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.96.0"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Chmouel's blog</title><link rel=stylesheet href=https://blog.chmouel.com/assets/css/blog.css><link rel=stylesheet href=https://blog.chmouel.com/assets/css/common.css><link rel=alternate type=application/rss+xml href=https://blog.chmouel.com/index.xml title="Chmouel's blog"><link rel=alternate type=application/json href=https://blog.chmouel.com/index.json title="Chmouel's blog"></head><body><main><section id=bio><section id=img-wrapper><a class=site-title href=https://blog.chmouel.com/><img src=/static/chmouel.png alt></a></section><section id=bio-wrapper><div id=text-wrapper><div class=centered><a href=/>Home</a>&nbsp; <a href=https://photos.chmouel.com>Photos</a>&nbsp; <a href=https://twitter.com/chmouel target=_blank>Twitter</a>&nbsp; <a href=https://github.com/chmouel target=_blank>Github</a>&nbsp; <a href=https://app.strava.com/athletes/126695 target=_blank>Strava</a>&nbsp; <a href=https://redhat.com target=_blank>Work</a></div><br><p>Chmouel Boudjnah's OpenSource developer Blog</p></div><div id=social-wrapper></div></section></section><section class=articles><article class=article><h2 class=article-title><a href=https://blog.chmouel.com/2022/03/18/vtplug-a-very-dumb-and-tiny-zsh-plugin-manager/ title="vtplug a very dumb and tiny zsh plugin manager">vtplug a very dumb and tiny zsh plugin manager</a></h2><small class=date>Fri Mar 18, 2022</small><div class=tags></div><summary class=summary>There is a lot of zsh plugin manager around :
<a href=https://github.com/unixorn/awesome-zsh-plugins#frameworks>https://github.com/unixorn/awesome-zsh-plugins#frameworks</a>
They all allow you to add cool new features to your shell easily and for authors to easily share their plugin with users and frameworks.
While a lot of people are probably using frameworks like oh-my-zsh which does everything for them with minimal setup.
But since I have been using zsh since much before than those frameworks existed, I always ran my custom config.<br><div class=readmore><a href=https://blog.chmouel.com/2022/03/18/vtplug-a-very-dumb-and-tiny-zsh-plugin-manager/ title="vtplug a very dumb and tiny zsh plugin manager">Read More</a></div></summary></article><article class=article><h2 class=article-title><a href=https://blog.chmouel.com/2022/03/18/show-plugins-list-to-a-cli-when-using-gos-cobra-library/ title="Show plugins list to a CLI when using go’s cobra library">Show plugins list to a CLI when using go’s cobra library</a></h2><small class=date>Fri Mar 18, 2022</small><div class=tags></div><summary class=summary>With the TektonCD CLI we have a system of “plugins”, it’s the same very simple CLI plugin system you have with git or kubectl, if you do a :
kubectl blah foo &ndash;bar
since kubectl knows it doesn’t have the blah command will try to go over the filesystem paths in your $PATH environment and sees if there is a binary called kubectl-blah and if it finds it will pass the arguments to the binary which effectively become :<br><div class=readmore><a href=https://blog.chmouel.com/2022/03/18/show-plugins-list-to-a-cli-when-using-gos-cobra-library/ title="Show plugins list to a CLI when using go’s cobra library">Read More</a></div></summary></article><article class=article><h2 class=article-title><a href=https://blog.chmouel.com/2022/03/07/running-tasks-as-non-root-on-openshift-pipelines/ title="Running tasks as non root on OpenShift Pipelines">Running tasks as non root on OpenShift Pipelines</a></h2><small class=date>Mon Mar 7, 2022</small><div class=tags></div><summary class=summary>Expanding on my previous blog post on getting buildah to run with user namespaces or as rootless. There is another important security topic to talk about is how to run everything on OpenShift Pipeline as non root and not just the buildah task.
On OpenShift Pipelines we made the conscious decision to run all the TaskRuns and Pipelinerun by default under a custom ServiceAccount called pipelines.
That’s it, unless overridden by the user in its pipelinerun or taskrun, it will use the pipelines ServiceAccount which has a few elevated privileges.<br><div class=readmore><a href=https://blog.chmouel.com/2022/03/07/running-tasks-as-non-root-on-openshift-pipelines/ title="Running tasks as non root on OpenShift Pipelines">Read More</a></div></summary></article><article class=article><h2 class=article-title><a href=https://blog.chmouel.com/2022/01/25/user-namespaces-with-buildah-and-openshift-pipelines/ title="User namespaces with Buildah and OpenShift Pipelines">User namespaces with Buildah and OpenShift Pipelines</a></h2><small class=date>Tue Jan 25, 2022</small><div class=tags></div><summary class=summary>In 2022 one of the hottest topic around CI is how to secure it every steps along the way.
The so-called supply chain attacks have been more and more an attack vector for bad actor whereas providers need to make sure every piece of the Integration is secure.
One area that was identified as something we can improve with Openshift and containers in general is when running as root on the container may expose the host and process in that container may be able to mingle with other resources.<br><div class=readmore><a href=https://blog.chmouel.com/2022/01/25/user-namespaces-with-buildah-and-openshift-pipelines/ title="User namespaces with Buildah and OpenShift Pipelines">Read More</a></div></summary></article><article class=article><h2 class=article-title><a href=https://blog.chmouel.com/2021/11/19/for-the-love-of-centered-windows-gnome-extension-edition/ title="For the love of centered windows gnome extension edition">For the love of centered windows gnome extension edition</a></h2><small class=date>Fri Nov 19, 2021</small><div class=tags></div><summary class=summary>Feels weird or great or stupid or pretty smart or whatever to be wrong. Just when I wrote that previous blog post : <a href=https://blog.chmouel.com/2021/11/14/for-the-love-of-centered-windows/>https://blog.chmouel.com/2021/11/14/for-the-love-of-centered-windows/</a> that I realize that shelll script doesn’t work great on wayland.
I didn’t really understood how Wayland works and just assumed that my tiny scripts just works. But experiencing not working on a native Wayland application and understanding how wayland works: <a href=https://wayland.freedesktop.org/docs/html/ch05.html>https://wayland.freedesktop.org/docs/html/ch05.html</a> it obviously needed a better way to do that if I have to keep up with the modern world of a linux desktop.<br><div class=readmore><a href=https://blog.chmouel.com/2021/11/19/for-the-love-of-centered-windows-gnome-extension-edition/ title="For the love of centered windows gnome extension edition">Read More</a></div></summary></article><article class=article><h2 class=article-title><a href=https://blog.chmouel.com/2021/11/14/for-the-love-of-centered-windows/ title="For the love of centered windows">For the love of centered windows</a></h2><small class=date>Sun Nov 14, 2021</small><div class=tags></div><summary class=summary>Sometime over a 2020 confinement my work decided to give us some money to buy some work from home office items.
I didn’t need much at that time since I was already settled with everything I needed in a work from home office but decided to go for a fancy new screen since well why not and the other one (a standard 24" display) could find some good use for my teenage gamer son.<br><div class=readmore><a href=https://blog.chmouel.com/2021/11/14/for-the-love-of-centered-windows/ title="For the love of centered windows">Read More</a></div></summary></article><article class=article><h2 class=article-title><a href=https://blog.chmouel.com/2021/07/01/how-to-make-a-release-pipeline-with-pipelines-as-code/ title="How to make a release pipeline with Pipelines as Code">How to make a release pipeline with Pipelines as Code</a></h2><small class=date>Thu Jul 1, 2021</small><div class=tags></div><summary class=summary><p>One of the early goal of Pipelines as Codeon Tekton is to make sure we were able to have the project CI running with itself.
The common user case of validating pull request was quickly implemented and you can find more information about it in this walkthough video :</p><p>For slightly more advanced use case here is how we made a release pipeline for the project.
The goal is when we tag a release and push the tags to the GitHUB repo it will</p><br><div class=readmore><a href=https://blog.chmouel.com/2021/07/01/how-to-make-a-release-pipeline-with-pipelines-as-code/ title="How to make a release pipeline with Pipelines as Code">Read More</a></div></summary></article><article class=article><h2 class=article-title><a href=https://blog.chmouel.com/2021/05/25/speed-up-your-tekton-pipeline-caching-the-hacky-way/ title="Speed up your tekton pipeline caching the hacky way">Speed up your tekton pipeline caching the hacky way</a></h2><small class=date>Tue May 25, 2021</small><div class=tags></div><summary class=summary>There is one thing that can get your wind up when you try to iterate quickly in a PR is to have a slow CI.
While working on a go project with a comprehensive test suite it was usually taking over 20 to 30 minutes to run and being as patient as a kid waiting for her candy floss to be ready I am eagerly waiting that my pipeline is Green or not.<br><div class=readmore><a href=https://blog.chmouel.com/2021/05/25/speed-up-your-tekton-pipeline-caching-the-hacky-way/ title="Speed up your tekton pipeline caching the hacky way">Read More</a></div></summary></article><article class=article><h2 class=article-title><a href=https://blog.chmouel.com/2021/04/19/nextdns-dnsmasq-dhcp-and-local-names/ title="NextDNS + DNSMasq DHCP and local names">NextDNS + DNSMasq DHCP and local names</a></h2><small class=date>Mon Apr 19, 2021</small><div class=tags></div><summary class=summary>Took me a little bit a while to figure out so here is some documentation,
My router from my ISP which is generally pretty good, doesn’t support local dns names which is annoying in itself. Combined with NextDNS, I have no way to identify the devices on my network.
So there I went configured dnsmasq on my tiny raspbery-pi :
port=5353 no-resolv interface=eth0 except-interface=lo listen-address=::1,192.168.0.3 no-dhcp-interface= bind-interfaces cache-size=10000 local-ttl=2 log-async log-queries bogus-priv server=192.<br><div class=readmore><a href=https://blog.chmouel.com/2021/04/19/nextdns-dnsmasq-dhcp-and-local-names/ title="NextDNS + DNSMasq DHCP and local names">Read More</a></div></summary></article><article class=article><h2 class=article-title><a href=https://blog.chmouel.com/2021/01/31/batzconverter-a-multiple-timezone-converter/ title="batzconverter – A multiple timezone converter">batzconverter – A multiple timezone converter</a></h2><small class=date>Sun Jan 31, 2021</small><div class=tags></div><summary class=summary>I do write a lot of scripts to automate my day to day workflow, some of them I just wrote for 3h to save me 5mn time only once and some others I write in about 5mn but save me hours and hour of productivity.
The script showed today, that I am proud of because of its usefulness and probably not of its code, is called “batzconverter”. and available on github.<br><div class=readmore><a href=https://blog.chmouel.com/2021/01/31/batzconverter-a-multiple-timezone-converter/ title="batzconverter – A multiple timezone converter">Read More</a></div></summary></article></section><div class=pagination><div class="pag-item pag-current"><a href=/>1</a>&nbsp;</div><div class=pag-item><a href=/page/2/>2</a>&nbsp;</div><div class=pag-item><a href=/page/3/>3</a>&nbsp;</div><div class=pag-item><a href=/page/4/>4</a>&nbsp;</div><div class=pag-item><a href=/page/5/>5</a>&nbsp;</div><div class=pag-next><a href=/page/2/>></a></div></div><footer class=footer><p><a href=https://github.com/chmouel/blog>&copy;</a> Chmouel Boudjnah - <a href=https://photos.chmouel.com><span class=fontawesome-inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M194.6 32H317.4c20.7.0 39 13.22 45.5 32.82L373.3 96H448c35.3.0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.35.0-64-28.7-64-64V160c0-35.3 28.65-64 64-64h74.7l10.4-31.18C155.6 45.22 173.9 32 194.6 32h0zM256 384c53 0 96-43 96-96 0-53.9-43-96-96-96-53.9.0-96 42.1-96 96 0 53 42.1 96 96 96z"/></svg></span></a>&nbsp;<a href=https://twitter.com/chmouel><span class=fontawesome-inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></span>
</a><a href=https://github.com/chmouel><span class=fontawesome-inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></a></p></footer></main></body></html>