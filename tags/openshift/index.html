<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>OpenShift | Chmouel's blog</title><meta name=keywords content><meta name=description content><meta name=author content><link rel=canonical href=https://blog.chmouel.com/tags/openshift/><link crossorigin=anonymous href=/assets/css/stylesheet.min.728ea2f434b33fa1b064a11c2ed6c7a0ce2b565a62f7e5d41efdd439ef56b3f1.css integrity="sha256-co6i9DSzP6GwZKEcLtbHoM4rVlpi9+XUHv3UOe9Ws/E=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.chmouel.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.chmouel.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.chmouel.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.chmouel.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.chmouel.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://blog.chmouel.com/tags/openshift/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="OpenShift"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://blog.chmouel.com/tags/openshift/"><meta name=twitter:card content="summary"><meta name=twitter:title content="OpenShift"><meta name=twitter:description content></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.chmouel.com/ accesskey=h title="Chmouel's blog (Alt + H)">Chmouel's blog</a>
<span class=logo-switches></span></div><ul id=menu><li><a href=https://github.com/chmouel/ title=Github><span>Github</span></a></li><li><a href=https://photos.chmouel.com title=Photos><span>Photos</span></a></li><li><a href=https://app.strava.com/athletes/126695 title=Strava><span>Strava</span></a></li><li><a href=https://twitter.com/chmouel title=Twitter><span>Twitter</span></a></li><li><a href=https://redhat.com title=Work><span>Work</span></a></li><li><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></li></ul></nav></header><main class=main><header class=page-header><h1>OpenShift</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>Running tasks as non root on OpenShift Pipelines</h2></header><section class=entry-content><p>Expanding on my previous blog post on getting buildah to run with user namespaces or as rootless. There is another important security topic to talk about is how to run everything on OpenShift Pipeline as non root and not just the buildah task.
On OpenShift Pipelines we made the conscious decision to run all the TaskRuns and Pipelinerun by default under a custom ServiceAccount called pipelines.
That’s it, unless overridden by the user in its pipelinerun or taskrun, it will use the pipelines ServiceAccount which has a few elevated privileges....</p></section><footer class=entry-footer><span title="2022-03-07 08:04:02 +0000 UTC">March 7, 2022</span></footer><a class=entry-link aria-label="post link to Running tasks as non root on OpenShift Pipelines" href=https://blog.chmouel.com/2022/03/07/running-tasks-as-non-root-on-openshift-pipelines/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Deploying minishift on a remote laptop.</h2></header><section class=entry-content><p>Part of my new job working with Fabric8 is to having it deployed via minishift.
Everything is nice and working (try it it’s awesome https://fabric8.io/guide/getStarted/gofabric8.html) as long you deploy it on your local workstation.
The thing is that my desktop macosx laptop has only 8GB of RAM and is not very well up to the task to get all the services being deployed when I have my web browser and other stuff hogging the memory....</p></section><footer class=entry-footer><span title="2017-06-09 13:31:28 +0000 UTC">June 9, 2017</span></footer><a class=entry-link aria-label="post link to Deploying minishift on a remote laptop." href=https://blog.chmouel.com/2017/06/09/deploying-minishift-on-a-remote-laptop/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Getting a letsencrypt SSL certificate for the OpenShift console and API</h2></header><section class=entry-content><p>By default when you install an OpenShift install it would automatically generate its own certificates.
It uses those certificates for communication between nodes and as well to automatically auth the admin account. By default those same certificates are the one provided for the OpenShift console and API.
Since it is auto generated you will when connecting to the website with you webbrowser get an ugly error message :
and as the error message says that’s not very secure #sadpanda....</p></section><footer class=entry-footer><span title="2016-09-29 08:22:48 +0000 UTC">September 29, 2016</span></footer><a class=entry-link aria-label="post link to Getting a letsencrypt SSL certificate for the OpenShift console and API" href=https://blog.chmouel.com/2016/09/29/getting-a-letsencrypt-ssl-certificate-for-the-openshift-console-and-api/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Using python to drive OpenShift REST API</h2></header><section class=entry-content><p>I have been meaning to automate my deployment directly from my small python application without having to use the openshift client (oc) directly.
OpenShift use a REST API and the oc client uses it to communicate with the server, you can actually see all the REST operation the oc client is doing if you specify the –loglevel=7 (it goes to 10 to get even more debug info) :
I was thinking to come up with my own python rest wrapper since a google quick search didn’t come up with any binding....</p></section><footer class=entry-footer><span title="2016-09-19 08:19:50 +0000 UTC">September 19, 2016</span></footer><a class=entry-link aria-label="post link to Using python to drive OpenShift REST API" href=https://blog.chmouel.com/2016/09/19/using-python-to-drive-openshift-rest-api/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Getting openshift origin “cluster up” working with xhyve</h2></header><section class=entry-content><p>In latest openshift client (oc) there is a nifty (relatively) new feature to get you a OpenShift cluster starting (very) quickly. It’s a pretty nice way to get you a new openshift origin environment on your laptop without the hassle.
On macosx there is a (as well relatively) new lightweight virtualization solution called xhyve it’s a bit like KVM in the sense of being lightweight and does not need like virtualbox or vmware to get a UI running....</p></section><footer class=entry-footer><span title="2016-09-19 06:00:54 +0000 UTC">September 19, 2016</span></footer><a class=entry-link aria-label="post link to Getting openshift origin “cluster up” working with xhyve" href=https://blog.chmouel.com/2016/09/19/getting-openshift-origin-cluster-up-working-with-xhyve/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>The best ways to work with yaml files in Emacs</h2></header><section class=entry-content><p>Sometime ago or at least when I started doing programming in the late 90s XML was all the rage, it promised to be the panacea for everything from data to storage to data presentation and processing. People realized that it was just complexity as Joel Spolski points out an attempt to make the complex seem accessible to ordinary people.. Really people were annoyed to write all those tags as those ‘&lt;’ and ‘>’ are hard to reach on a qwerty keyboard....</p></section><footer class=entry-footer><span title="2016-09-07 07:45:03 +0000 UTC">September 7, 2016</span></footer><a class=entry-link aria-label="post link to The best ways to work with yaml files in Emacs" href=https://blog.chmouel.com/2016/09/07/dealing-with-yaml-in-emacs/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>openshift-sdn with OpenStack SDN and MTU</h2></header><section class=entry-content><p>I am lucky enough to have a cloud available to me for free it obviously runs OpenStack and I can kick VM like I want.
Since I am playing with OpenShift a lot lately I have seen issues in that cloud where pushing an image to the internal registry was just randomly failing.
Networking is definitely not my pedigree but I could definitely sense it was a networking issue. Since I could nost just blame the underlying cloud (hey it’s free!...</p></section><footer class=entry-footer><span title="2015-09-25 14:16:12 +0000 UTC">September 25, 2015</span></footer><a class=entry-link aria-label="post link to openshift-sdn with OpenStack SDN and MTU" href=https://blog.chmouel.com/2015/09/25/openshift-sdn-with-openstack-sdn-and-mtu/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Deploy openshift router and registry only on a master nodes with no others</h2></header><section class=entry-content><p>Something that has come up when using OpenShift and that was tricky enough to be shared on a blog post.
On OpenShift you have this routers and registry which by default are on the master nodes and that’s fine. Things get tricky if you don’t want anything else in there.
I finally figured this out after digging in some internal mailing lists and this is actually not too difficult. The key thing is to have this on the ‘default’ namespace annotations :...</p></section><footer class=entry-footer><span title="2015-09-23 11:31:07 +0000 UTC">September 23, 2015</span></footer><a class=entry-link aria-label="post link to Deploy openshift router and registry only on a master nodes with no others" href=https://blog.chmouel.com/2015/09/23/openshift-default-router-on-master-nodes-but-no-others/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Using yaml for OpenShift v3 templates</h2></header><section class=entry-content><p>I have been experimenting a lot with OpenShift v3 and love how everything work well together plugging Kubernetes and Docker with a PAAS workflow.
One of the thing that I don’t get is to have to write manually verbose json templates, it’s wonderful for machines and to parse but writing it can get as painful as (dear I said it) XML.
OpenShift natively support very nicely yaml files and it’s a straight conversion of what you would have in json format....</p></section><footer class=entry-footer><span title="2015-03-24 10:54:53 +0000 UTC">March 24, 2015</span></footer><a class=entry-link aria-label="post link to Using yaml for OpenShift v3 templates" href=https://blog.chmouel.com/2015/03/24/using-yaml-for-openshift-v3-templates/></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://blog.chmouel.com/>Chmouel's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>