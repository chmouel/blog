<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>vtplug a very dumb and tiny zsh plugin manager | Chmouel's blog</title><meta name=keywords content><meta name=description content="There is a lot of zsh plugin manager around :
https://github.com/unixorn/awesome-zsh-plugins#frameworks
They all allow you to add cool new features to your shell easily and for authors to easily share their plugin with users and frameworks.
While a lot of people are probably using frameworks like oh-my-zsh which does everything for them with minimal setup.
But since I have been using zsh since much before than those frameworks existed, I always ran my custom config."><meta name=author content><link rel=canonical href=https://blog.chmouel.com/2022/03/18/vtplug-a-very-dumb-and-tiny-zsh-plugin-manager/><link crossorigin=anonymous href=/assets/css/stylesheet.9e486942e3e80b89dff7d0f59b9b383012cb07a9852441596bc21b3168df44a8.css integrity="sha256-nkhpQuPoC4nf99D1m5s4MBLLB6mFJEFZa8IbMWjfRKg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.chmouel.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.chmouel.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.chmouel.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.chmouel.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.chmouel.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="vtplug a very dumb and tiny zsh plugin manager"><meta property="og:description" content="There is a lot of zsh plugin manager around :
https://github.com/unixorn/awesome-zsh-plugins#frameworks
They all allow you to add cool new features to your shell easily and for authors to easily share their plugin with users and frameworks.
While a lot of people are probably using frameworks like oh-my-zsh which does everything for them with minimal setup.
But since I have been using zsh since much before than those frameworks existed, I always ran my custom config."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.chmouel.com/2022/03/18/vtplug-a-very-dumb-and-tiny-zsh-plugin-manager/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-18T11:06:19+00:00"><meta property="article:modified_time" content="2022-03-18T11:06:19+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="vtplug a very dumb and tiny zsh plugin manager"><meta name=twitter:description content="There is a lot of zsh plugin manager around :
https://github.com/unixorn/awesome-zsh-plugins#frameworks
They all allow you to add cool new features to your shell easily and for authors to easily share their plugin with users and frameworks.
While a lot of people are probably using frameworks like oh-my-zsh which does everything for them with minimal setup.
But since I have been using zsh since much before than those frameworks existed, I always ran my custom config."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.chmouel.com/posts/"},{"@type":"ListItem","position":2,"name":"vtplug a very dumb and tiny zsh plugin manager","item":"https://blog.chmouel.com/2022/03/18/vtplug-a-very-dumb-and-tiny-zsh-plugin-manager/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"vtplug a very dumb and tiny zsh plugin manager","name":"vtplug a very dumb and tiny zsh plugin manager","description":"There is a lot of zsh plugin manager around :\nhttps://github.com/unixorn/awesome-zsh-plugins#frameworks\nThey all allow you to add cool new features to your shell easily and for authors to easily share their plugin with users and frameworks.\nWhile a lot of people are probably using frameworks like oh-my-zsh which does everything for them with minimal setup.\nBut since I have been using zsh since much before than those frameworks existed, I always ran my custom config.","keywords":[],"articleBody":"There is a lot of zsh plugin manager around :\nhttps://github.com/unixorn/awesome-zsh-plugins#frameworks\nThey all allow you to add cool new features to your shell easily and for authors to easily share their plugin with users and frameworks.\nWhile a lot of people are probably using frameworks like oh-my-zsh which does everything for them with minimal setup.\nBut since I have been using zsh since much before than those frameworks existed, I always ran my custom config.\nHistorically, I went for the “default” one (or it seemed that way at the time) called zplug. It allows you to specify the plugins you want and manage them easily. But zplug is a lot more things, it offers many more features like installing binary from the internet manage some configuration edge cases and other things. And it slowwws, I didn’t realize it at first but more I used it and more I realized that opening a shell would take me a second or two sometime. Moreover, last release was 5 years ago.\nI looked a bit more into it and figured it was actually pretty simple to dumb it down and write my own. So I wrote one and called it \"vtplug\" for “very tiny plugin manager” and since it’s so small it can be installed directly by copying it in your config as function from here :\nhttps://github.com/chmouel/zsh-config/blob/master/functions/vtplug#L15\nto use it you first need to copy the function in your config and then have a variable that has all the plugins you want to install, which for me is :\nZSH_PLUGINS=( agkozak/zsh-z zsh-users/zsh-autosuggestions chmouel/chmoujump chmouel/kubectl-config-switcher b4b4r07/emoji-cli::emoji-cli.zsh joshskidmore/zsh-fzf-history-search ) It currently only support public GitHub based plugins so effectively add the https://github.com/ to the repo/owner specified in ZSHZ_PLUGINS variable.\nYou then may want to add some configuration of the plugin right after, like this, I have those by you may want to have a look at each plugin READMEs to see which settings you may want to set :\nZSH_TAB_TITLE_ONLY_FOLDER=true ZSH_TAB_TITLE_DEFAULT_DISABLE_PREFIX=true ZSHZ_DATA=${HOME}/.cache/zsh-cache-z EMOJI_CLI_USE_EMOJI=true ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=\"fg=#9400d3\" ZSH_FZF_HISTORY_SEARCH_BIND=\"^S\" EMOJI_CLI_KEYBIND=\"^X^S\" and then simply execute vtplug after that :\n-$ vtplug vtplug would then load all plugins and check them out in ~/.cache/zsh/repos/ if it wasn’t checked out before.\nIf you need to update the plugin you just do a :\nvtplug -u and it will run a git pull in those repos.\nIt’s simple as that, and load in milliseconds.\nMy whole zsh config is located here if you want to have a look:\nhttps://github.com/chmouel/zsh-config\nIf you really want a plugin manger that does much more and probably more flexible, perhaps look at antidote which seems to be pretty fast and feature full.\n","wordCount":"435","inLanguage":"en","datePublished":"2022-03-18T11:06:19Z","dateModified":"2022-03-18T11:06:19Z","author":{"@type":"Person","name":"chmouel"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.chmouel.com/2022/03/18/vtplug-a-very-dumb-and-tiny-zsh-plugin-manager/"},"publisher":{"@type":"Organization","name":"Chmouel's blog","logo":{"@type":"ImageObject","url":"https://blog.chmouel.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.chmouel.com/ accesskey=h title="Chmouel's blog (Alt + H)">Chmouel's blog</a>
<span class=logo-switches></span></div><ul id=menu><li><a href=https://github.com/chmouel/ title=Github><span>Github</span></a></li><li><a href=https://photos.chmouel.com title=Photos><span>Photos</span></a></li><li><a href=https://app.strava.com/athletes/126695 title=Strava><span>Strava</span></a></li><li><a href=https://twitter.com/chmouel title=Twitter><span>Twitter</span></a></li><li><a href=https://redhat.com title=Work><span>Work</span></a></li><li><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>vtplug a very dumb and tiny zsh plugin manager</h1><div class=post-meta><span title='2022-03-18 11:06:19 +0000 UTC'>March 18, 2022</span>&nbsp;|&nbsp;<a href=https://github.com/chmouel/blog/tree/main/content/posts/2022-03-18-vtplug-a-very-dumb-and-tiny-zsh-plugin-manager.md rel="noopener noreferrer" target=_blank>Edit</a></div></header><div class=post-content><p>There is a lot of zsh plugin manager around :</p><p><a href=https://github.com/unixorn/awesome-zsh-plugins#frameworks>https://github.com/unixorn/awesome-zsh-plugins#frameworks</a></p><p>They all allow you to add cool new features to your shell easily and for authors to
easily share their plugin with users and frameworks.</p><p>While a lot of people are probably using frameworks like <code>oh-my-zsh</code> which does
everything for them with minimal setup.</p><p>But since I have been using zsh since <a href=https://zsh.sourceforge.io/Etc/changelog-4.0.html>much before</a> than those frameworks
existed, I always ran my custom config.</p><p>Historically, I went for the &ldquo;default&rdquo; one (or it seemed that way at the time) called <code>zplug</code>. It allows you to specify the plugins you want and manage them easily. But <code>zplug</code> is a lot more things, it offers many more features
like installing binary from the internet manage some configuration edge cases
and other things. And it slowwws, I didn&rsquo;t realize it at first but more I used
it and more I realized that opening a shell would take me a second or two
sometime. Moreover, last release was 5 years ago.</p><p>I looked a bit more into it and figured it was actually pretty simple to dumb
it down and write my own. So I wrote one and called it <code>"vtplug"</code> for &ldquo;very tiny
plugin manager&rdquo; and since it&rsquo;s so small it can be installed directly by copying
it in your config as function from here :</p><p><a href=https://github.com/chmouel/zsh-config/blob/master/functions/vtplug#L15>https://github.com/chmouel/zsh-config/blob/master/functions/vtplug#L15</a></p><p>to use it you first need to copy the function in your config and then have a
variable that has all the plugins you want to install, which for me is :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>ZSH_PLUGINS</span><span style=color:#ff79c6>=(</span>
</span></span><span style=display:flex><span>    agkozak/zsh-z
</span></span><span style=display:flex><span>    zsh-users/zsh-autosuggestions
</span></span><span style=display:flex><span>    chmouel/chmoujump
</span></span><span style=display:flex><span>    chmouel/kubectl-config-switcher
</span></span><span style=display:flex><span>    b4b4r07/emoji-cli::emoji-cli.zsh
</span></span><span style=display:flex><span>    joshskidmore/zsh-fzf-history-search
</span></span><span style=display:flex><span><span style=color:#ff79c6>)</span>
</span></span></code></pre></div><p>It currently only support public GitHub based plugins so effectively add the
<code>https://github.com/</code> to the repo/owner specified in ZSHZ_PLUGINS variable.</p><p>You then may want to add some configuration of the plugin right after, like this,
I have those by you may want to have a look at each plugin READMEs to see which
settings you may want to set :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>ZSH_TAB_TITLE_ONLY_FOLDER</span><span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>true</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>ZSH_TAB_TITLE_DEFAULT_DISABLE_PREFIX</span><span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>true</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>ZSHZ_DATA</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>${</span><span style=color:#8be9fd;font-style:italic>HOME</span><span style=color:#f1fa8c>}</span>/.cache/zsh-cache-z
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>EMOJI_CLI_USE_EMOJI</span><span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>true</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#34;fg=#9400d3&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>ZSH_FZF_HISTORY_SEARCH_BIND</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#34;^S&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>EMOJI_CLI_KEYBIND</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#34;^X^S&#34;</span>
</span></span></code></pre></div><p>and then simply execute vtplug after that :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>-$ vtplug
</span></span></code></pre></div><p><code>vtplug</code> would then load all plugins and check them out in <code>~/.cache/zsh/repos/</code>
if it wasn&rsquo;t checked out before.</p><p>If you need to update the plugin you just do a :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>vtplug -u
</span></span></code></pre></div><p>and it will run a <code>git pull</code> in those repos.</p><p>It&rsquo;s simple as that, and load in milliseconds.</p><p>My whole zsh config is located here if you want to have a look:</p><p><a href=https://github.com/chmouel/zsh-config>https://github.com/chmouel/zsh-config</a></p><p>If you really want a plugin manger that does much more and probably more
flexible, perhaps look at <a href=https://getantidote.github.io/><code>antidote</code></a> which seems to be pretty fast and
feature full.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://blog.chmouel.com/>Chmouel's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>